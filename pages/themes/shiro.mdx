# Shiro ä¸»é¢˜

## Demo

import { Card, Cards, Callout } from "nextra/components";

<Cards num={2}>
  <Card arrow href="https://innei.in" title="é™ã‹ãªæ£®" icon={<img src="https://innei.in/innei.svg" width={"25em"} />} />
  <Card arrow href="https://blog.wibus.ren" title="å¯æ„›ã„æ¾" icon={<img src="https://cdn.my-api.cn/user/w/asset-pic-picgo/2022-12-152kb_waifu-up3x-denoise3x.jpg" width={"25em"} />} />
</Cards>

## å‰æè¦æ±‚

- ä½ å·²å®‰è£… Mix Space åç«¯å¹¶ä¸”å·²å¯åŠ¨
- ä½ å·²æ³¨å†Œ [Vercel](https://vercel.com/) å’Œ [GitHub](https://github.com/) è´¦å·
- ä½ å·²æ³¨å†Œ [Clerk](https://clerk.com/) è´¦å·

## å®‰è£…

import { Steps } from 'nextra/components'
import Video from '@components/Video';

<Steps>
### å…‹éš†ä»“åº“
 
ç™»é™† GitHub è´¦å·ï¼Œæ‰“å¼€ [Innei/Shiro](https://github.com/Innei/Shiro)ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Fork æŒ‰é’®ï¼Œå°†ä»“åº“å…‹éš†åˆ°ä½ çš„è´¦å·ä¸‹ã€‚

<Video src="https://pan.vinua.cn/f/73dt6/fork_shiro.mp4" />
 
### æ‰“å¼€ Vercel åˆ›å»ºé¡¹ç›®
 
ç™»é™† Vercel è´¦å·ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ New Project æŒ‰é’®ï¼Œé€‰æ‹© Import Git Repositoryï¼Œé€‰æ‹©ä½ åˆšåˆš Fork çš„ä»“åº“ï¼Œç‚¹å‡» Import æŒ‰é’®ï¼Œå³å¯è¿›å…¥åˆ°é¡¹ç›®é…ç½®é¡µé¢ã€‚

<Video src="https://pan.vinua.cn/f/52ocj/shiro_create_new_project.mp4" />

### æ‰“å¼€ Clerk åˆ›å»ºé¡¹ç›®

æ‰“å¼€ [Clerk ä»ªè¡¨ç›˜](https://dashboard.clerk.com/) ç‚¹å‡» Add application æŒ‰é’®ï¼Œå¡«å…¥ä½ çš„åšå®¢åç§°ï¼Œå¹¶é…ç½®ä¿¡æ¯ï¼Œç‚¹å‡» Create application æŒ‰é’®ï¼Œå³å¯å®Œæˆé…ç½®ã€‚

> è¯·ä½ åŠ¡å¿…è®°ä½ä½ çš„ Clerk é¡µé¢çš„å…¬é’¥å’Œç§é’¥ï¼Œç¨åå°†ä¼šç”¨åˆ°ã€‚

<Video src="https://pan.vinua.cn/f/Mv1Ty/clerk_create_project.mp4" />

### é…ç½®ç¯å¢ƒå˜é‡

<Video src="https://pan.vinua.cn/f/GqdSM/shiro_input_env.mp4" />

åœ¨ä¸‹æ–¹çš„é…ç½®è¡¨æ ¼ä¸­ï¼Œå¡«å…¥ä½ çš„ç¯å¢ƒå˜é‡ï¼Œç„¶åç‚¹å‡»å¤åˆ¶æŒ‰é’®ï¼Œå°†ç¯å¢ƒå˜é‡å¤åˆ¶åˆ°å‰ªè´´æ¿ä¸­ã€‚

<EnvVariableConfig 
  variableNames={
    [
      {
        key: 'NEXT_PUBLIC_API_URL',
        name: "åç«¯ API åœ°å€"
      }, 
      {
        key: 'NEXT_PUBLIC_GATEWAY_URL',
        name: "åç«¯ç½‘å…³åœ°å€"
      }, 
      {
        key: 'NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY',
        name: "Clerk é¡µé¢çš„å…¬é’¥"
      }, 
      {
        key: 'CLERK_SECRET_KEY',
        name: "Clerk é¡µé¢çš„ç§é’¥"
      }
      ]
  } 
/>

### é”®å…¥ç¯å¢ƒå˜é‡ & å¼€å§‹éƒ¨ç½²

åœ¨åˆšåˆšè¿›å…¥çš„ Vercel é¡¹ç›®é…ç½®é¡µé¢ä¸­ï¼Œç‚¹å‡» Environment Variablesï¼Œç„¶åé”®ç›˜ä¸Šçš„ Ctrl + V å°†ç¯å¢ƒå˜é‡ç²˜è´´åˆ°è¾“å…¥æ¡†ä¸­ï¼Œç„¶åç‚¹å‡» Deploy æŒ‰é’®ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆã€‚

<Video src="https://pan.vinua.cn/f/g3YfL/shiro_deploy.mp4" />

### é…ç½® Vercel Storage

<Video src="https://pan.vinua.cn/f/K9XIO/shiro_edge_config.mp4" />

è¿›å…¥ Vercel é¡¹ç›®ä»ªè¡¨ç›˜ï¼Œåœ¨ä¸Šæ–¹èœå•æ æ‰¾åˆ° Storageï¼Œç‚¹å‡» Connect Storage æŒ‰é’®ï¼Œé€‰æ‹© Edge Configï¼Œå¡«å…¥é…ç½®ï¼š

<Callout>
è¯·æ³¨æ„ï¼Œè¿™ä»½é…ç½®ä½ éœ€è¦è‡ªè¡Œä¿®æ”¹æˆç¬¦åˆä½ çš„éœ€æ±‚çš„é…ç½®ã€‚ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®å¯èƒ½ä¼šå¯¼è‡´ä½ çš„åšå®¢æ— æ³•æŒ‰ç…§ä½ çš„é¢„æœŸè¿è¡Œã€‚
</Callout>

```json showLineNumbers
{
  "footer": {
    "otherInfo": {
      "date": "2020-{{now}}"
    },
    "linkSections": [
      {
        "name": "å…³äº",
        "links": [
          {
            "name": "å…³äºæœ¬ç«™",
            "href": "/about-site"
          },
          {
            "name": "å…³äºæˆ‘",
            "href": "/about-me"
          },
          {
            "name": "å…³äºæ­¤é¡¹ç›®",
            "href": "https://github.com/innei/Shiro",
            "external": true
          }
        ]
      },
      {
        "name": "æ›´å¤š",
        "links": [
          {
            "name": "æ—¶é—´çº¿",
            "href": "/timeline"
          },
          {
            "name": "å‹é“¾",
            "href": "/friends"
          }
        ]
      },
      {
        "name": "è”ç³»",
        "links": [
          {
            "name": "å†™ç•™è¨€",
            "href": "/message"
          },
          {
            "name": "å‘é‚®ä»¶",
            "href": "mailto:wibus@qq.com",
            "external": true
          },
          {
            "name": "GitHub",
            "href": "https://github.com/wibus-wee",
            "external": true
          }
        ]
      }
    ]
  },
  "config": {
    "site": {
      "favicon": "/wibus.jpg"
    },
    "hero": {
      "title": {
        "template": [
          {
            "type": "h1",
            "text": "Hi, I'm ",
            "class": "font-light text-4xl"
          },
          {
            "type": "h1",
            "text": "Innei",
            "class": "font-medium mx-2 text-4xl"
          },
          {
            "type": "h1",
            "text": "ğŸ‘‹ã€‚",
            "class": "font-light text-4xl"
          },
          {
            "type": "br"
          },
          {
            "type": "h1",
            "text": "A NodeJS Full Stack",
            "class": "font-light text-4xl"
          },
          {
            "type": "code",
            "text": "<Developer/>",
            "class": "font-medium mx-2 text-3xl rounded p-1 bg-gray-200 dark:bg-gray-800/0 hover:dark:bg-gray-800/100 bg-opacity-0 hover:bg-opacity-100 transition-background duration-200"
          },
          {
            "type": "span",
            "class": "inline-block w-[1px] h-8 -bottom-2 relative bg-gray-800/80 dark:bg-gray-200/80 opacity-0 group-hover:opacity-100 transition-opacity duration-200 group-hover:animation-blink"
          }
        ]
      },
      "description": "An independent developer coding with love."
    },
    "module": {
      "donate": {
        "enable": true,
        "link": " https://afdian.net/@Innei ",
        "qrcode": [
          " https://cdn.jsdelivr.net/gh/Innei/img-bed@master/20191211132347.png ",
          " https://cdn.innei.ren/bed/2023/0424213144.png "
        ]
      },
      "bilibili": {
        "liveId": 1434499
      }
    }
  }
}
```

ç‚¹å‡» Save Item æŒ‰é’®ä¿å­˜é…ç½®ï¼Œç„¶åå›åˆ°ä»ªè¡¨ç›˜ç‚¹å‡»é‡æ–°éƒ¨ç½²ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆã€‚

### å®Œæˆï¼

è‡³æ­¤ï¼Œä½ å·²å®Œæˆäº† Shiro ä¸»é¢˜çš„éƒ¨ç½²ï¼Œä½ å¯ä»¥è®¿é—®ä½ çš„åšå®¢äº†ã€‚æœ‰å…³é…ç½®åŸŸåçš„æ•™ç¨‹ï¼Œè¯·å‚è€ƒ [Vercel æ–‡æ¡£](https://vercel.com/docs/custom-domains)ã€‚

</Steps>

import { useState, useRef } from 'react';
import copy from 'copy-to-clipboard';

export function EnvVariableConfig({ variableNames }) {
  const [values, setValues] = useState(Array(variableNames.length).fill(''));

  const handleCopy = () => {
    const envContent = variableNames.map((name, index) => `${name.key}=${values[index]}`).join('\n');
    copy(envContent);
  };

  const handleChange = (index, value) => {
    const newValues = [...values];
    newValues[index] = value;
    setValues(newValues);
  };

  return (
    <div className="p-4 mt-2">
      {variableNames.map((name, index) => (
        <div key={`${name.key}`} className="flex items-center space-x-4 mb-4">
          <input
            type="text"
            className="border rounded px-2 py-2 w-1/2 bg-transparent focus:outline-none focus:border-black hover:border-white-400 transition duration-300 font-[400] font-sans text-sm cursor-not-allowed"
            value={name.name || name.key}
            data-tip={name.key}
            onMouseOver={(e) => {
              e.target.style.color = 'transparent';
              setTimeout(() => {
                e.target.style.color = 'inherit';
                e.target.value = e.target.dataset.tip;
              }, 300);
            }}
            onMouseLeave={(e) => {
              e.target.style.color = 'transparent';
              setTimeout(() => {
                e.target.style.color = 'inherit';
                e.target.value = name.name || name.key;
              }, 300);
            }}
            disabled
          />
          <input
            type="text"
            // :focus-visible outline none
            className="border rounded px-2 py-2 w-1/2 focus:outline-none focus:border-black hover:border-gray-400 transition duration-300 font-[400] font-sans text-sm" style={{ outline: "none", boxShadow: "none" }}
            placeholder={`Enter value...`}
            value={values[index]}
            onChange={(e) => handleChange(index, e.target.value)}
          />
        </div>
      ))}
      <div className="flex items-center justify-between mb-4">
        <h2 className="sr-only">ç¯å¢ƒå˜é‡é…ç½®</h2>
        <button
          type="button"
          className="border bg-black w-full text-white px-4 py-2 rounded-lg text-sm transform transition-all duration-300 focus:outline-none hover:bg-gray-700"
          onClick={handleCopy}
        >
          å¤åˆ¶
        </button>
      </div>
    </div>
  );
}


<style global jsx>{`
 .nextra-cards img {
   border-radius: 50%;
  }
 .nextra-content pre {
     max-height: 50vh;
  }
`}</style>